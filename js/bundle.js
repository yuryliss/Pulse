(()=>{"use strict";function e(e,t){e.classList.add(t)}function t(e,t){e.classList.remove(t)}function n(e,t,n,o){n.style.cssText="display:none",o.style.cssText="display:none",t.style.cssText="display:none",e.style.cssText="display:none"}document.addEventListener("DOMContentLoaded",(()=>{(function(){const e=tns({container:".carousel__inner",items:1,slideBy:"page",speed:900,center:!0,gutter:1,mouseDrag:!0,controls:!1,nav:!0,navAsThumbnails:!0,navPosition:"bottom",responsive:{575:{nav:!0},767:{nav:!0},1200:{nav:!0}}});document.querySelector(".prev").addEventListener("click",(()=>{e.goTo("prev")})),document.querySelector(".next").addEventListener("click",(()=>{e.goTo("next")}))})(),function(){const n=document.querySelectorAll(".catalog__tab"),o=document.querySelectorAll(".catalog__content"),l="catalog__tab_active",a="catalog__content_active";n.forEach(((n,c,s)=>{n.addEventListener("click",(()=>{if(n.classList.contains(l))for(let e=0;e<s.length;e++)n!==s[e]&&(t(s[e],l),t(o[e],a));else{e(n,l),e(o[c],a);for(let e=0;e<s.length;e++)n!==s[e]&&(t(s[e],l),t(o[e],a))}}))}))}(),function(){const e=document.querySelectorAll(".catalog-item__link"),t=document.querySelectorAll(".catalog-item__back"),n=document.querySelectorAll(".catalog-item__content"),o=document.querySelectorAll(".catalog-item__list");function l(e){e.forEach(((e,t)=>{e.addEventListener("click",(e=>{e.preventDefault(),n[t].classList.toggle("catalog-item__content_active"),o[t].classList.toggle("catalog-item__list_active")}))}))}l(e),l(t)}(),function(){const o=document.querySelectorAll("[data-modal='consultation']"),l=document.querySelector(".overlay"),a=document.querySelectorAll(".modal__close"),c=document.querySelector("#consultation"),s=document.querySelector("#thanks"),i=document.querySelector("#order"),r=document.querySelectorAll(".button_mini"),d=document.querySelectorAll(".catalog-item__subtitle"),u=document.querySelectorAll(".modal__descr");function m(){c.classList.add("modal_animatedOut"),s.classList.add("modal_animatedOut"),i.classList.add("modal_animatedOut"),l.classList.add("overlay_animatedOut"),setTimeout(n,400,l,s,c,i)}o.forEach((n=>{n.addEventListener("click",(()=>{t(c,"modal_animatedOut"),t(l,"overlay_animatedOut"),e(c,"modal_animatedIn"),e(l,"overlay_animatedIn"),l.style.cssText="display:block",c.style.cssText="display:block"}))})),r.forEach(((n,o)=>{n.addEventListener("click",(()=>{t(i,"modal_animatedOut"),t(l,"overlay_animatedOut"),e(i,"modal_animatedIn"),e(l,"overlay_animatedIn"),l.style.cssText="display:block",u[1].textContent=d[o].textContent,i.style.cssText="display:block"}))})),a.forEach((e=>{e.addEventListener("click",m)})),l.addEventListener("click",(e=>{e.target===l&&m()}))}(),function(){const o=document.querySelector("#thanks"),l=document.querySelector(".overlay"),a=document.querySelector("#consultation"),c=document.querySelector("#order"),s=document.forms;for(let e=0;e<s.length;e++){const t=s[e].querySelectorAll(".field");for(let n=0;n<t.length;n++)t[n].oninput=()=>{r(s[e])}}for(let d=0;d<s.length;d++)s[d].addEventListener("submit",(u=>{if(u.preventDefault(),r(s[d])){let r=new FormData(s[d]);const u={};r.forEach(((e,t)=>{u[t]=e})),fetch("mailer/smart.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then((r=>{const u=s[d].querySelectorAll(".field");for(let e=0;e<u.length;e++)i(u[e]);var m,y;n(l,o,a,c),m=l,t(y=o,"modal_animatedOut"),t(m,"overlay_animatedOut"),e(y,"modal_animatedIn"),e(m,"overlay_animatedIn"),m.style.cssText="display:block",y.style.cssText="display:block"})).catch((()=>{console.log("Fail")})).finally((()=>{s[d].reset()}))}}));function i(e){(e.classList.contains("error")||e.classList.contains("access"))&&(e.classList.remove("error"),e.classList.remove("access"),e.previousElementSibling.remove())}function r(e){function t(e,t){const n=document.createElement("label");e.classList.add("error"),n.classList.add("error-label"),n.textContent=t,e.before(n)}function n(e,t){const n=document.createElement("label");e.classList.add("access"),n.classList.add("access-label"),n.textContent=t,e.before(n)}let o=!0;return function(e){e.querySelectorAll(".field").forEach((e=>{if(i(e),!e.value)return t(e,"Поле не заполнено"),o=!1,o}))}(e),function(e){if(e.value){if(!/^[A-ZА-ЯЁ]+$/i.test(e.value))return t(e,"Имя должно состоять только из букв"),o=!1,o;if(e.value.length<2)return t(e,"Имя слишком короткое"),o=!1,o;if(e.value.length>10)return t(e,"Имя слишком длинное"),o=!1,o;n(e,"Принято")}}(e.name),function(e){if(e.value){if(!new IMask(e,{mask:"+{375}(00)0000000",lazy:!1}).masked.isComplete)return t(e,"Поле не заполнено"),o=!1,o;n(e,"Принято")}}(e.phone),function(e){if(e.value){if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e.value))return t(e,"Неверный формат E-mail"),o=!1,o;n(e,"Принято")}}(e.email),o}}(),function(){const e=document.querySelector(".pageup"),t=document.documentElement.clientHeight;window.addEventListener("scroll",(function(){scrollY<t?e.classList.add("pageup-hide"):e.classList.remove("pageup-hide")})),e.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}))}(),(new WOW).init()}))})();
//# sourceMappingURL=bundle.js.map